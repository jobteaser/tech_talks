<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>vuejs</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="lib/reveal.js/css/reveal.min.css">
    <link rel="stylesheet" href="lib/reveal.js/css/theme/night.css">
    <link rel="stylesheet" href="lib/template.css">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/reveal.js/lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>

    <!--[if lt IE 9]>
    <script src="lib/reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="reveal">
      <div class="slides" id="content">
        <section data-markdown
                 data-separator="==="
                 data-vertical="---"><script type="text/template">

# Vue.js

===

## Ember ?

---

* Opinionated framework

* Good for SPA

* Tricky to use for HTML augmentation

---

## Vue ?

---

### Small but well-maintained

* 100% test coverage

* 23 issues open, 1804 closed

* Average issue TTL : **13 hours**

===

## What is looks like

---

### Angular-like template directives

```html
<template id="todolist">
  <h1>{{ todos.length }} todos</h1>
  <ul>
    <li v-for="todo in todos">
      <input type="text" v-bind:value="todo.title" />
    </li>
  </ul>
  <button v-on:click="addTodo">Add</button>
</template>
```

---

### React-like component design

```javascript
Vue.component('todolist', {
  // Template string or ID
  template: '#todolist',

  // Default data for initialization
  data: function(){
    return {
      todos: [
        { title: 'A todo' },
        { title: 'Another todo' }
      ];
    }
  },

  // Callable methods
  methods: {
    addTodo: function() {
      this.todos.push({
        title: 'A new todo'
      });
    }
  }
});
```

---

## [Codepen](http://codepen.io/anon/pen/JGepLO)

===

## Rails integration

---

### Props passing and validation

```javascript
Vue.component('todolist', {

  // Passed props
  props: {
    name: String,
    items: {
      coerce: function(prop) { return JSON.parse(prop); }
    },
  },

});
```

---

### HTML Usage

```slim
/ view.slim
todolist name="mytodolist" items=(@items.to_json)
```

---

### Or in helpers, custom inputs ...

```ruby
class TodolistInput < SimpleForm::Inputs::Base
  def input(_wrapper_options)
    template.content_tag(
      'todolist',
      nil,
      name: "#{object_name}[#{attribute_name}]",
      items: options[:value] || (object && object[attribute_name]) || default_value
    )
  end
end
```

```slim
/ _form.slim
= f.input :items, as: :todolist
```
---

### Plugging it in

```javascript
// application.js

// Define or import components here

new Vue({
  el: 'body'
});
```

===

## Other goodies

---

### Plays well with jquery

```javascript
Vue.component('switch', {
  template: '<input type="checkbox" name="{{name}}" v-model="checked">',
  props: {
    name: String,
    checked: {
      type: Boolean,
      coerce: (val) => (val == 'checked') || val,
    },
  },

  // Called when inserted in the DOM
  ready() {
    // Style the checkbox via the jquery plugin
    this.switchery = new Switchery(this.$el);

    // No implicit listen on check changes
    this.$watch('checked', (val) => {
      this.switchery.element.checked = val;
      this.switchery.setPosition();
    });
  }
});
```

```slim
/ view.slim
switch name="active" checked=(@action.active?)
```

        </script></section>

      </div>

    </div>

    <script src="lib/reveal.js/lib/js/head.min.js"></script>
    <script src="lib/reveal.js/js/reveal.min.js"></script>
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <script src="config.js"></script>

  </body>
</html>
